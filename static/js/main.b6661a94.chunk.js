(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{14:function(e,t,a){e.exports={main:"Comments_main__aPwhv",textarea:"Comments_textarea__1EzMH",button:"Comments_button__gUFJv",container:"Comments_container__1XR2L",comments:"Comments_comments__3R5XZ",authorDate:"Comments_authorDate__3jNF4"}},5:function(e,t,a){e.exports={movieInfo:"MovieCard_movieInfo__20BVh",header:"MovieCard_header__1IArA",logo:"MovieCard_logo__1ZspF",nameProject:"MovieCard_nameProject__3zD8z",poster:"MovieCard_poster__3pRc6",container:"MovieCard_container__j_76B",info:"MovieCard_info__Nd6g8",title:"MovieCard_title__fEISD",year:"MovieCard_year__3mQCH",genres:"MovieCard_genres__291zi",genre:"MovieCard_genre__3gxuG",genreCicrle:"MovieCard_genreCicrle__2c9K1",rating:"MovieCard_rating__29YGr",font:"MovieCard_font__HYxo0",descr:"MovieCard_descr__3yHhv",descriptionFull:"MovieCard_descriptionFull__QIqV3"}},52:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(22),i=a.n(n),r=(a(52),a(15)),s=a(4),o=a(24),d=a(6),j=a(20),l=a.n(j),v=a(29),u=a(30),m=a.n(u),b=a(13),_="SET_MOVIES",O="SET_CURRENT_PAGE",h="SET_CURRENT_MOVIE",g="SET_IS_FETCHING",x={movies:[],id:[],currentPage:1,page:20,movieCount:0,isFetching:!1},f=function(e){return{type:g,isFetching:e}},p=function(e){return function(){var t=Object(v.a)(l.a.mark((function t(a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("https://yts.mx/api/v2/movie_details.json?movie_id=".concat(e));case 2:c=t.sent,a((n=c.data.data,{type:h,payload:n})),a(f(!1));case 5:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}()},N=a(8),C=a.n(N),M=a(1),y=function(e){var t=e.data,a=Object(d.b)();return Object(M.jsxs)("div",{className:C.a.movie,children:[Object(M.jsx)("div",{className:C.a.info,children:Object(M.jsx)(r.b,{onClick:function(){return a(p(t.id))},to:"/movie_card/".concat(t.id),children:Object(M.jsx)("img",{src:t.medium_cover_image,alt:"poster"})})}),Object(M.jsx)("div",{children:Object(M.jsx)(r.b,{onClick:function(){return a(p(t.id))},to:"/movie_card/".concat(t.id),className:C.a.movieName,children:t.title})}),Object(M.jsx)("div",{children:t.year})]})},P=a.p+"static/media/loader.bd1a9186.svg",F=function(){return Object(M.jsx)("div",{className:C.a.preloader,children:Object(M.jsx)("img",{src:P,alt:"loader"})})},S=a.p+"static/media/logo.6ae3259e.png",E=a(43),I=a.n(E),T=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.movie.movies})),a=Object(d.c)((function(e){return e.movie.currentPage})),n=Object(d.c)((function(e){return e.movie.movieCount})),i=Object(d.c)((function(e){return e.movie.isFetching})),r=Object(d.c)((function(e){return e.movie.page})),s=[];return function(e,t,a){if(t>10)if(a>5)for(var c=a-4;c<=a+5&&(e.push(c),c!==t);c++);else for(var n=1;n<=10&&(e.push(n),n!==t);n++);else for(var i=1;i<=t;i++)e.push(i)}(s,Math.ceil(n/r),a),Object(c.useEffect)((function(t){e(function(e,t){return function(){var a=Object(v.a)(l.a.mark((function a(c){var n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.get("https://yts.mx/api/v2/list_movies.json?limit=".concat(t,"&page=").concat(e));case 2:n=a.sent,c((i=n.data.data,{type:_,payload:i})),c(f(!1));case 5:case"end":return a.stop()}var i}),a)})));return function(e){return a.apply(this,arguments)}}()}(a,t)),e(f(!0))}),[a]),Object(M.jsx)("div",{children:i?Object(M.jsx)(F,{}):Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:C.a.header,children:[Object(M.jsx)("div",{children:Object(M.jsx)("img",{src:S,className:C.a.logo})}),Object(M.jsx)("div",{className:C.a.pages,children:s.map((function(t,c){return Object(M.jsx)("span",{className:I()(Object(o.a)({},C.a.selectedPage,a===t),C.a.pageNumber),onClick:function(){return e(function(e){return{type:O,payload:e}}(t))},children:t},c)}))}),Object(M.jsx)("div",{className:C.a.nameProject,children:"WebMovie"})]}),Object(M.jsx)("div",{className:C.a.movies,children:t.map((function(e,t){return Object(M.jsx)(y,{data:e},t)}))})]})})},k=a(47),w=a(33),D=a(80),R=a(14),X=a.n(R),H=function(){var e=Object(s.g)().id,t=Object(c.useState)(""),a=Object(w.a)(t,2),n=a[0],i=a[1],r=Object(c.useState)(JSON.parse(localStorage.getItem(e))||[]),o=Object(w.a)(r,2),d=o[0],j=o[1];Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(d))}),[d]);var l=new Date;l.toLocaleDateString();return Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:X.a.container,children:[Object(M.jsx)("textarea",{type:"text",value:n,onChange:function(e){return i(e.target.value)},className:X.a.textarea}),Object(M.jsx)("div",{children:Object(M.jsx)("button",{onClick:function(){if(""!==n.trim()){var e={id:Object(D.a)(),text:n,date:l.toLocaleDateString(),author:"you"};j((function(t){return[].concat(Object(k.a)(t),[e])})),i("")}},className:X.a.button,children:"Send"})})]}),Object(M.jsx)("div",{className:X.a.main,children:d.map((function(e,t){return Object(M.jsxs)("div",{className:X.a.comments,children:[Object(M.jsxs)("div",{className:X.a.authorDate,children:[Object(M.jsxs)("div",{children:[" ",e.author]}),Object(M.jsx)("div",{className:X.a.text,children:e.date}),Object(M.jsx)("div",{children:Object(M.jsx)("button",{onClick:function(){return function(e){j(d.filter((function(t){return t.id!==e})))}(e.id)},children:"X"})})]}),Object(M.jsx)("div",{className:X.a.text,children:e.text})]},t)}))})]})},z=a(16),J=a(26),L=a(44),V=a(5),B=a.n(V);z.b.add(J.b,J.a);var G=function(){var e=Object(s.g)().id,t=Object(d.b)(),a=Object(d.c)((function(e){return e.movie.id})),n=Object(d.c)((function(e){return e.movie.isFetching})),i=[a];return Object(c.useEffect)((function(){t(p(e)),t(f(!0))}),[]),Object(M.jsx)(M.Fragment,{children:n?Object(M.jsx)(F,{}):i.map((function(e,t){var a=e.title,c=e.medium_cover_image,n=e.genres,i=e.year,r=(e.like_count,e.description_full),s=e.rating;return Object(M.jsxs)("div",{className:B.a.movieInfo,children:[Object(M.jsxs)("div",{className:B.a.header,children:[Object(M.jsx)("div",{children:Object(M.jsx)("img",{src:S,className:B.a.logo})}),Object(M.jsx)("div",{className:B.a.nameProject,children:"WebMovie"})]}),Object(M.jsxs)("div",{className:B.a.container,children:[Object(M.jsxs)("div",{className:B.a.poster,children:[Object(M.jsxs)("div",{className:B.a.rating,children:[Object(M.jsx)(L.a,{icon:J.b,className:B.a.font})," ",s]}),Object(M.jsx)("img",{src:c,alt:"poster"})]}),Object(M.jsxs)("div",{className:B.a.info,children:[Object(M.jsx)("div",{className:B.a.title,children:a}),Object(M.jsx)("div",{className:B.a.year,children:i}),Object(M.jsx)("div",{className:B.a.genre,children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(M.jsxs)("div",{className:B.a.genres,children:[Object(M.jsx)("div",{className:B.a.genreCicrle}),e]},t)}))}),Object(M.jsxs)("div",{className:B.a.description,children:[Object(M.jsx)("h1",{className:B.a.descr,children:"Description"}),Object(M.jsxs)("div",{className:B.a.descriptionFull,children:[" ",r," "]})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:"Comments"}),Object(M.jsx)(H,{})]})]})]})]},t)}))})},W=function(){return Object(M.jsx)(r.a,{children:Object(M.jsx)("div",{children:Object(M.jsxs)(s.d,{children:[Object(M.jsx)(s.b,{exact:!0,path:"/Movie",component:T}),Object(M.jsx)(s.b,{path:"/movie_card/:id",component:G}),Object(M.jsx)(s.a,{to:"/"})]})})})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,81)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),i(e),r(e)}))},A=a(17),Q=a(45),U=a(46),Y=Object(A.combineReducers)({movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(b.a)(Object(b.a)({},e),{},{movies:t.payload.movies,movieCount:t.payload.movie_count});case O:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.payload});case h:return Object(b.a)(Object(b.a)({},e),{},{id:t.payload.movie});case g:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});default:return e}}}),q=Object(A.createStore)(Y,Object(Q.composeWithDevTools)(Object(A.applyMiddleware)(U.a)));i.a.render(Object(M.jsx)(d.a,{store:q,children:Object(M.jsx)(W,{})}),document.getElementById("root")),Z()},8:function(e,t,a){e.exports={header:"MoviePage_header__3vhZr",nameProject:"MoviePage_nameProject__2T1XR",logo:"MoviePage_logo__1FyF2",movies:"MoviePage_movies__1vXMg",info:"MoviePage_info__iQWke",movie:"MoviePage_movie__3c-tC",movieName:"MoviePage_movieName__TywOV",pages:"MoviePage_pages__1eoEZ",selectedPage:"MoviePage_selectedPage__3-zMs",pageNumber:"MoviePage_pageNumber__Ie1OH",preloader:"MoviePage_preloader__27XXT"}}},[[78,1,2]]]);
//# sourceMappingURL=main.b6661a94.chunk.js.map